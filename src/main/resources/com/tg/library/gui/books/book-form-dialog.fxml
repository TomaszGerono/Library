<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<DialogPane xmlns:fx="http://javafx.com/fxml"
            fx:controller="com.tg.library.gui.controller.BookFormDialogController">

    <content>
        <VBox spacing="10" styleClass="dialog-root">

            <GridPane hgap="10" vgap="10">

                <Label text="Title *" GridPane.rowIndex="0" GridPane.columnIndex="0"/>
                <TextField fx:id="titleField" GridPane.rowIndex="0" GridPane.columnIndex="1"/>

                <Label text="Author(s)"
                       GridPane.rowIndex="1" GridPane.columnIndex="0"
                       GridPane.columnSpan="2"/>

                <GridPane hgap="10" vgap="8"
                          GridPane.rowIndex="2" GridPane.columnIndex="0"
                          GridPane.columnSpan="2">

                    <columnConstraints>
                        <ColumnConstraints hgrow="ALWAYS" percentWidth="45"/>
                        <ColumnConstraints hgrow="NEVER" percentWidth="10"/>
                        <ColumnConstraints hgrow="ALWAYS" percentWidth="45"/>
                    </columnConstraints>

                    <rowConstraints>
                        <RowConstraints vgrow="NEVER"/>
                        <RowConstraints vgrow="ALWAYS"/>
                        <RowConstraints vgrow="NEVER"/>
                    </rowConstraints>

                    <!-- search left -->
                    <TextField fx:id="authorSearchField"
                               promptText="Find author..."
                               GridPane.columnIndex="0" GridPane.rowIndex="0"/>

                    <!-- selected label right -->
                    <Label text="Chosen"
                           GridPane.columnIndex="2" GridPane.rowIndex="0"/>

                    <!-- available authors -->
                    <ListView fx:id="authorsList"
                              prefHeight="170"
                              GridPane.columnIndex="0" GridPane.rowIndex="1"/>

                    <!-- add/remove buttons -->
                    <VBox spacing="8" alignment="CENTER"
                          GridPane.columnIndex="1" GridPane.rowIndex="1">
                        <Button text="➕" onAction="#onAddAuthorToSelection" prefWidth="40"/>
                        <Button text="➖" onAction="#onRemoveAuthorFromSelection" prefWidth="40"/>
                    </VBox>

                    <!-- selected authors -->
                    <ListView fx:id="selectedAuthorsList"
                              prefHeight="170"
                              GridPane.columnIndex="2" GridPane.rowIndex="1"/>

                    <!-- create author -->
                    <Button text="➕ New author"
                            onAction="#onCreateAuthor"
                            GridPane.columnIndex="0" GridPane.rowIndex="2"
                            GridPane.columnSpan="3"/>
                </GridPane>

                <Label text="Genre" GridPane.rowIndex="3" GridPane.columnIndex="0"/>
                <ComboBox fx:id="genreCombo"
                          prefWidth="260"
                          GridPane.rowIndex="3" GridPane.columnIndex="1"/>

                <Label text="Year" GridPane.rowIndex="4" GridPane.columnIndex="0"/>
                <TextField fx:id="yearField" GridPane.rowIndex="4" GridPane.columnIndex="1"/>

                <Label text="ISBN" GridPane.rowIndex="5" GridPane.columnIndex="0"/>
                <TextField fx:id="isbnField" GridPane.rowIndex="5" GridPane.columnIndex="1"/>

                <Label text="Number of pages" GridPane.rowIndex="6" GridPane.columnIndex="0"/>
                <TextField fx:id="pagesField" GridPane.rowIndex="6" GridPane.columnIndex="1"/>

                <Label text="Series" GridPane.rowIndex="7" GridPane.columnIndex="0"/>
                <TextField fx:id="seriesField" GridPane.rowIndex="7" GridPane.columnIndex="1"/>

            </GridPane>

            <Label fx:id="errorLabel" styleClass="error-label" visible="false"/>

        </VBox>
    </content>

    <buttonTypes>
        <ButtonType fx:constant="CANCEL"/>
        <ButtonType text="Save" fx:id="saveButtonType" buttonData="OK_DONE"/>
    </buttonTypes>

</DialogPane>
